@import "_variables"

// Local Search Styles
.search-active
  overflow: hidden

.search-pop-overlay
  background: rgba(0, 0, 0, 0)
  display: flex
  height: 100%
  left: 0
  position: fixed
  top: 0
  transition: visibility 0.4s, background 0.4s
  visibility: hidden
  width: 100%
  z-index: 2000

  &.search-active
    background: rgba(0, 0, 0, 0.3)
    visibility: visible

.search-popup
  background: #fff
  border-radius: 8px
  height: 80%
  margin: auto
  transform: scale(0)
  transition: transform 0.4s ease
  width: 700px
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2)
  border: 1px solid color-border

  .search-active &
    transform: scale(1)

  @media mq-mobile
    border-radius: 0
    height: 100%
    width: 100%

.search-header
  background: color-background
  border-top-left-radius: 8px
  border-top-right-radius: 8px
  display: flex
  padding: 10px 15px
  border-bottom: 1px solid color-border
  align-items: center

.search-icon
  color: color-grey
  font-size: 18px
  margin-right: 10px

.popup-btn-close
  color: color-grey
  font-size: 18px
  cursor: pointer
  padding: 5px
  border-radius: 4px
  transition: all 0.2s ease

  &:hover
    color: color-default
    background: rgba(0, 0, 0, 0.05)

.search-input-container
  flex-grow: 1
  padding: 0 10px

input.search-input
  background: transparent
  border: 0
  outline: 0
  width: 100%
  font-size: 16px
  color: color-default
  font-family: font-sans

  &::-webkit-search-cancel-button
    display: none

  &::placeholder
    color: color-grey

.search-result-container
  display: flex
  flex-direction: column
  height: calc(100% - 65px)
  overflow: auto
  padding: 20px

  hr
    flex-shrink: 0
    margin: 10px 0 15px
    border: none
    border-top: 1px solid color-border

    &:first-child
      display: none

.search-stats
  color: color-grey
  font-size: 13px
  margin-bottom: 10px
  padding: 5px 0

.search-result-list
  margin: 0
  padding: 0
  list-style: none

  li
    margin-bottom: 15px

.search-result-title
  font-weight: bold
  color: color-link
  text-decoration: none
  font-size: 16px
  line-height: 1.4

  &:hover
    color: #1a6d8a

p.search-result
  border-bottom: 1px dashed #e0e0e0
  margin: 5px 0 10px
  padding: 8px 0
  color: color-default
  line-height: 1.5

.search-result-icon
  color: color-grey
  margin: auto
  text-align: center
  padding: 40px 20px

  i
    opacity: 0.3

// Search keyword highlighting
mark.search-keyword, .search-keyword
  background: transparent
  border-bottom: 2px solid color-link
  color: color-link
  font-weight: bold
  padding: 0 2px

// Search trigger button styles  
.nav-search-btn
  &.popup-trigger
    &:hover
      opacity: 1

// Search result item styles
.search-result-item
  display: block
  color: color-default
  text-decoration: none
  padding: 8px 0
  border-bottom: 1px solid #f0f0f0

  &:hover
    background: #f8f8f8

  &:last-child
    border-bottom: none

.search-result-content
  color: color-grey
  font-size: 13px
  line-height: 1.5
  margin-top: 5px

// Empty state styles
.search-empty
  text-align: center
  color: color-grey
  padding: 40px 20px
  
  .fa
    font-size: 48px
    margin-bottom: 15px
    opacity: 0.3

// Loading state
.search-loading
  text-align: center
  color: color-grey
  padding: 20px

// Search popup animation (remove keyframes for now, use simple transitions)
.search-active .search-popup
  transform: scale(1) !important
